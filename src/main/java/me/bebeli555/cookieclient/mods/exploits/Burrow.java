/*     */ package me.bebeli555.cookieclient.mods.exploits;
/*     */ 
/*     */ import me.bebeli555.cookieclient.Mod;
/*     */ import me.bebeli555.cookieclient.events.bus.EventHandler;
/*     */ import me.bebeli555.cookieclient.events.bus.Listener;
/*     */ import me.bebeli555.cookieclient.events.other.PacketEvent;
/*     */ import me.bebeli555.cookieclient.gui.Group;
/*     */ import me.bebeli555.cookieclient.gui.Mode;
/*     */ import me.bebeli555.cookieclient.gui.Setting;
/*     */ import me.bebeli555.cookieclient.mods.combat.Surround;
/*     */ import me.bebeli555.cookieclient.utils.BlockUtil;
/*     */ import me.bebeli555.cookieclient.utils.InventoryUtil;
/*     */ import me.bebeli555.cookieclient.utils.RotationUtil;
/*     */ import net.minecraft.block.Block;
/*     */ import net.minecraft.init.Blocks;
/*     */ import net.minecraft.network.play.client.CPacketConfirmTeleport;
/*     */ import net.minecraft.network.play.client.CPacketPlayer;
/*     */ import net.minecraft.network.play.server.SPacketPlayerPosLook;
/*     */ import net.minecraft.util.math.BlockPos;
/*     */ import net.minecraftforge.common.MinecraftForge;
/*     */ import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
/*     */ import net.minecraftforge.fml.common.gameevent.TickEvent;
/*     */ 
/*     */ 
/*     */ public class Burrow
/*     */   extends Mod
/*     */ {
/*     */   public static Burrow instance;
/*     */   private static boolean done;
/*     */   private static Block placeBlock;
/*  31 */   public static Setting mode = new Setting(null, "Mode", "Instant", new String[][] { { "Instant", "Places the block instantly" }, { "Jump", "Jumps and places the block" } });
/*  32 */   public static Setting delay = new Setting(mode, "Jump", Mode.INTEGER, "Delay", Integer.valueOf(250), new String[] { "Delay in ms to wait after the first jump", "To placing the block and second jump" });
/*  33 */   public static Setting height = new Setting(mode, "Instant", Mode.DOUBLE, "Height", Integer.valueOf(10), new String[] { "How many blocks to teleport up after placing", "The block to trigger tha anticheat" });
/*  34 */   public static Setting center = new Setting(Mode.BOOLEAN, "Center", Boolean.valueOf(true), new String[] { "Centers you in the middle of the block before doing the thing" });
/*  35 */   public static Setting enderChest = new Setting(Mode.BOOLEAN, "EnderChest", Boolean.valueOf(false), new String[] { "Uses only enderchests to burrow" });
/*     */   
/*     */   public Burrow() {
/*  38 */     super(Group.EXPLOITS, "Burrow", new String[] { "Glitches you inside obsidian" });
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */     
/* 156 */     this.packetEvent = new Listener(event -> {
/*     */           
/* 158 */           if (mc.field_71439_g == null) {
/* 159 */             Mod.EVENT_BUS.unsubscribe(instance);
/*     */             
/*     */             return;
/*     */           } 
/* 163 */           if (event.packet instanceof SPacketPlayerPosLook) {
/* 164 */             event.cancel();
/*     */             
/* 166 */             SPacketPlayerPosLook packet = (SPacketPlayerPosLook)event.packet;
/* 167 */             mc.field_71439_g.field_70181_x = 0.0D;
/*     */             
/* 169 */             mc.field_71439_g.field_71174_a.func_147297_a(new CPacketConfirmTeleport(packet.func_186965_f()));
/* 170 */             mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.PositionRotation(mc.field_71439_g.field_70165_t, packet.func_148928_d(), mc.field_71439_g.field_70161_v, packet.func_148931_f(), packet.func_148930_g(), false));
/*     */             
/* 172 */             Mod.EVENT_BUS.unsubscribe(instance);
/*     */           } 
/*     */         }new java.util.function.Predicate[0]);
/*     */     this.autoSubscribe = false;
/*     */     instance = this;
/*     */   }
/*     */   
/*     */   @EventHandler
/*     */   private Listener<PacketEvent> packetEvent;
/*     */   
/*     */   public void onEnabled() {
/*     */     if (mc.field_71439_g == null) {
/*     */       disable();
/*     */       return;
/*     */     } 
/*     */     if (isSolid(getPlayerPos())) {
/*     */       sendMessage("You are already burrowed", true);
/*     */       disable();
/*     */       return;
/*     */     } 
/*     */     (new Thread() {
/*     */         public void run() {
/*     */           Block block = null;
/*     */           if (InventoryUtil.hasBlock(Blocks.field_150343_Z)) {
/*     */             block = Blocks.field_150343_Z;
/*     */           } else {
/*     */             for (int i = 0; i < 9; i++) {
/*     */               if (InventoryUtil.getItemStack(i).func_77973_b() instanceof net.minecraft.item.ItemBlock) {
/*     */                 block = Block.func_149634_a(InventoryUtil.getItemStack(i).func_77973_b());
/*     */                 break;
/*     */               } 
/*     */             } 
/*     */             if (block == null)
/*     */               for (InventoryUtil.ItemStackUtil itemStack : InventoryUtil.getAllItems()) {
/*     */                 if (itemStack.itemStack.func_77973_b() instanceof net.minecraft.item.ItemBlock) {
/*     */                   block = Block.func_149634_a(itemStack.itemStack.func_77973_b());
/*     */                   break;
/*     */                 } 
/*     */               }  
/*     */           } 
/*     */           if (Burrow.enderChest.booleanValue())
/*     */             if (InventoryUtil.hasBlock(Blocks.field_150477_bB)) {
/*     */               block = Blocks.field_150477_bB;
/*     */             } else {
/*     */               block = null;
/*     */             }  
/*     */           if (block == null) {
/*     */             Burrow.this.sendMessage("You dont have any placeable block", true);
/*     */             Burrow.this.disable();
/*     */             return;
/*     */           } 
/*     */           int oldSlot = Mod.mc.field_71439_g.field_71071_by.field_70461_c;
/*     */           InventoryUtil.switchItem(InventoryUtil.getSlot(block), false);
/*     */           if (Burrow.center.booleanValue())
/*     */             Surround.centerMotionFull(); 
/*     */           if (Burrow.mode.stringValue().equals("Instant")) {
/*     */             Burrow.access$002(block);
/*     */             MinecraftForge.EVENT_BUS.register(Burrow.instance);
/*     */             Mod.sleepUntil(() -> Burrow.access$100(), 200, 5);
/*     */           } else if (Burrow.mode.stringValue().equals("Jump")) {
/*     */             BlockPos start = Mod.getPlayerPos();
/*     */             Mod.mc.field_71439_g.func_70664_aZ();
/*     */             Mod.sleep(Burrow.delay.intValue());
/*     */             BlockUtil.placeBlock(block, start, true);
/*     */             Mod.mc.field_71439_g.func_70664_aZ();
/*     */           } 
/*     */           Mod.mc.field_71439_g.field_71071_by.field_70461_c = oldSlot;
/*     */           Mod.EVENT_BUS.subscribe(Burrow.instance);
/*     */           Burrow.this.disable();
/*     */         }
/*     */       }).start();
/*     */   }
/*     */   
/*     */   public void onDisabled() {
/*     */     done = false;
/*     */     placeBlock = null;
/*     */     RotationUtil.stopRotating();
/*     */   }
/*     */   
/*     */   @SubscribeEvent
/*     */   public void onTick(TickEvent.ClientTickEvent e) {
/*     */     BlockPos start = getPlayerPos();
/*     */     mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.Position(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + 0.41999998688698D, mc.field_71439_g.field_70161_v, true));
/*     */     mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.Position(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + 0.7531999805211997D, mc.field_71439_g.field_70161_v, true));
/*     */     mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.Position(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + 1.00133597911214D, mc.field_71439_g.field_70161_v, true));
/*     */     mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.Position(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + 1.16610926093821D, mc.field_71439_g.field_70161_v, true));
/*     */     mc.field_71439_g.func_70107_b(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + 1.16610926093821D, mc.field_71439_g.field_70161_v);
/*     */     BlockUtil.placeBlockOnThisThread(placeBlock, start, true);
/*     */     mc.field_71439_g.func_70107_b(mc.field_71439_g.field_70165_t, start.func_177956_o(), mc.field_71439_g.field_70161_v);
/*     */     mc.field_71439_g.field_71174_a.func_147297_a(new CPacketPlayer.Position(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u + height.doubleValue(), mc.field_71439_g.field_70161_v, false));
/*     */     MinecraftForge.EVENT_BUS.unregister(instance);
/*     */     done = true;
/*     */   }
/*     */ }


/* Location:              C:\Users\deadc\Downloads\nhack-1.0.2-dev-release.jar!\me\bebeli555\cookieclient\mods\exploits\Burrow.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.0.0
 */